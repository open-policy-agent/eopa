! exec eopa pull
stderr 'target directory '
[!windows] stderr $WORK/here
stderr 'already exists \(non-empty\)'
! stdout .

! exec eopa pull --libraries there
stderr 'target'
[!windows] stderr $WORK/there
stderr 'already exists, not a directory'
! stdout .

# force doesn't help here
! exec eopa pull --libraries there --force
stderr 'target'
[!windows] stderr $WORK/there
stderr 'already exists, not a directory'
! stdout .

# it only matters that we've pushed through preflight checks
! exec eopa pull --force
stderr 'Error: list libraries: Get'
! stdout .

# empty existing dirs are OK
mkdir libs
! exec eopa pull --libraries libs
stderr 'Error: list libraries: Get'
! stdout .

-- .styra-session --
opensesame

-- .styra.yaml --
url: http://127.0.0.1:0
libraries: here

-- here/whatever --

-- there --
a file
